{
  "Uuid": "7023e977-e6e8-403c-9c70-9dd31393ef51",
  "IsCustomNode": true,
  "Category": "Synthesize.Packages.Clockwork.Revit.Elements.Element.Query",
  "Description": "Returns the location of an element as an XYZ (or if it's line-based the start and end point of the line), along with some booleans to help filtering the results. Use this for some element types (e.g. walls or lines) that do not work with the built-in Get Family Instance Location node. ",
  "Name": "CW.Element.Location",
  "ElementResolver": {
    "ResolutionMap": {}
  },
  "Inputs": [],
  "Outputs": [],
  "Nodes": [
    {
      "ConcreteType": "Dynamo.Graph.Nodes.CustomNodes.Symbol, DynamoCore",
      "NodeType": "InputNode",
      "Parameter": {
        "Name": "VARelement",
        "TypeName": "var",
        "TypeRank": -1,
        "DefaultValue": null,
        "Description": ""
      },
      "Id": "467e3f8f3faf49fc94c376b1b0c59c5e",
      "Inputs": [],
      "Outputs": [
        {
          "Id": "8e2c106059d64f30beffef6306ffbc49",
          "Name": "",
          "Description": "Symbol",
          "UsingDefaultValue": false,
          "Level": 2,
          "UseLevels": false,
          "KeepListStructure": false
        }
      ],
      "Replication": "Disabled",
      "Description": "A function parameter, use with custom nodes.\r\n\r\nYou can specify the type and default value for parameter. E.g.,\r\n\r\ninput : var[]..[]\r\nvalue : bool = false"
    },
    {
      "ConcreteType": "Dynamo.Graph.Nodes.CustomNodes.Output, DynamoCore",
      "NodeType": "OutputNode",
      "ElementResolver": null,
      "Symbol": "VARpoints",
      "Id": "3ebf8af890b744f8afdf742ff53b9f65",
      "Inputs": [
        {
          "Id": "9225abc0e7674cab86417a1e7574a279",
          "Name": "",
          "Description": "",
          "UsingDefaultValue": false,
          "Level": 2,
          "UseLevels": false,
          "KeepListStructure": false
        }
      ],
      "Outputs": [],
      "Replication": "Disabled",
      "Description": "A function output, use with custom nodes"
    },
    {
      "ConcreteType": "Dynamo.Graph.Nodes.CustomNodes.Output, DynamoCore",
      "NodeType": "OutputNode",
      "ElementResolver": null,
      "Symbol": "VARcurveEndpoints",
      "Id": "fe6d5941e75240bbb243e86bdd061ab9",
      "Inputs": [
        {
          "Id": "9baacdd5f8f9412194c8d9dea289a2db",
          "Name": "",
          "Description": "",
          "UsingDefaultValue": false,
          "Level": 2,
          "UseLevels": false,
          "KeepListStructure": false
        }
      ],
      "Outputs": [],
      "Replication": "Disabled",
      "Description": "A function output, use with custom nodes"
    },
    {
      "ConcreteType": "Dynamo.Graph.Nodes.CustomNodes.Output, DynamoCore",
      "NodeType": "OutputNode",
      "ElementResolver": null,
      "Symbol": "VARcurves",
      "Id": "fef50bd5ee4646bbbc91c1d356b52c80",
      "Inputs": [
        {
          "Id": "beb663ae27e84156b09807fb040e4660",
          "Name": "",
          "Description": "",
          "UsingDefaultValue": false,
          "Level": 2,
          "UseLevels": false,
          "KeepListStructure": false
        }
      ],
      "Outputs": [],
      "Replication": "Disabled",
      "Description": "A function output, use with custom nodes"
    },
    {
      "ConcreteType": "Dynamo.Graph.Nodes.CustomNodes.Output, DynamoCore",
      "NodeType": "OutputNode",
      "ElementResolver": null,
      "Symbol": "VARisPoint",
      "Id": "9c5fe234633342d18497fa4ae9ff0a2d",
      "Inputs": [
        {
          "Id": "3204b4d5493a49ff97c077e9f2d90e71",
          "Name": "",
          "Description": "",
          "UsingDefaultValue": false,
          "Level": 2,
          "UseLevels": false,
          "KeepListStructure": false
        }
      ],
      "Outputs": [],
      "Replication": "Disabled",
      "Description": "A function output, use with custom nodes"
    },
    {
      "ConcreteType": "Dynamo.Graph.Nodes.CustomNodes.Output, DynamoCore",
      "NodeType": "OutputNode",
      "ElementResolver": null,
      "Symbol": "VARisCurve",
      "Id": "21d345193cea4d3fb917cbe99953d0f1",
      "Inputs": [
        {
          "Id": "8798fa62ef114f4e9342dc74a781bb63",
          "Name": "",
          "Description": "",
          "UsingDefaultValue": false,
          "Level": 2,
          "UseLevels": false,
          "KeepListStructure": false
        }
      ],
      "Outputs": [],
      "Replication": "Disabled",
      "Description": "A function output, use with custom nodes"
    },
    {
      "ConcreteType": "Dynamo.Graph.Nodes.CodeBlockNodeModel, DynamoCore",
      "NodeType": "CodeBlockNode",
      "Code": "seq[0];\nseq[1];\nseq[2];\nseq[3];\nseq[4];\nseq[5];\nseq[6];\nseq[7];",
      "Id": "bd3f39ee762e4a88a57d373694197124",
      "Inputs": [
        {
          "Id": "7c6eccc44be74215b3b2b9898c6ac036",
          "Name": "seq",
          "Description": "seq",
          "UsingDefaultValue": false,
          "Level": 2,
          "UseLevels": false,
          "KeepListStructure": false
        }
      ],
      "Outputs": [
        {
          "Id": "dc0314b58c2f489b86c748ccd60cd355",
          "Name": "",
          "Description": "Value of expression at line 1",
          "UsingDefaultValue": false,
          "Level": 2,
          "UseLevels": false,
          "KeepListStructure": false
        },
        {
          "Id": "a46e0efabd04457b8f9cdd89f8f9b3cc",
          "Name": "",
          "Description": "Value of expression at line 2",
          "UsingDefaultValue": false,
          "Level": 2,
          "UseLevels": false,
          "KeepListStructure": false
        },
        {
          "Id": "2281b6e7d3d04fe185330b3ab6f6283c",
          "Name": "",
          "Description": "Value of expression at line 3",
          "UsingDefaultValue": false,
          "Level": 2,
          "UseLevels": false,
          "KeepListStructure": false
        },
        {
          "Id": "c7bfa29056c941d5b9415d217ac1b977",
          "Name": "",
          "Description": "Value of expression at line 4",
          "UsingDefaultValue": false,
          "Level": 2,
          "UseLevels": false,
          "KeepListStructure": false
        },
        {
          "Id": "cefbd215aa854ceab9ec5e9fa8b3b881",
          "Name": "",
          "Description": "Value of expression at line 5",
          "UsingDefaultValue": false,
          "Level": 2,
          "UseLevels": false,
          "KeepListStructure": false
        },
        {
          "Id": "11b9771711ce47a8b4644725696082ad",
          "Name": "",
          "Description": "Value of expression at line 6",
          "UsingDefaultValue": false,
          "Level": 2,
          "UseLevels": false,
          "KeepListStructure": false
        },
        {
          "Id": "df73f922fa6a4a5f8732856b6b4217e3",
          "Name": "",
          "Description": "Value of expression at line 7",
          "UsingDefaultValue": false,
          "Level": 2,
          "UseLevels": false,
          "KeepListStructure": false
        },
        {
          "Id": "272ca2ae8fe64148bfbfba6dbb007913",
          "Name": "",
          "Description": "Value of expression at line 8",
          "UsingDefaultValue": false,
          "Level": 2,
          "UseLevels": false,
          "KeepListStructure": false
        }
      ],
      "Replication": "Disabled",
      "Description": "Allows for DesignScript code to be authored directly"
    },
    {
      "ConcreteType": "PythonNodeModels.PythonNode, PythonNodeModels",
      "NodeType": "PythonScriptNode",
      "Code": "import clr\r\nimport math\r\nclr.AddReference('RevitAPI')\r\nfrom Autodesk.Revit.DB import *\r\n\r\nclr.AddReference(\"RevitNodes\")\r\nimport Revit\r\nclr.ImportExtensions(Revit.GeometryConversion)\r\n\r\nitems = UnwrapElement(IN[0])\r\npointlist, curvepointlist, ispoint, iscurve, curves, haslocation, angles, hasrotation = [], [], [], [], [], [], [], []\r\n\r\nfor item in items:\r\n\ttry:\r\n\t\t# points and text notes\r\n\t\tpointlist.append(item.Coord.ToPoint())\r\n\t\tispoint.append(True)\r\n\t\tiscurve.append(False)\r\n\t\thaslocation.append(True)\r\n\t\thasrotation.append(False)\r\n\texcept:\r\n\t\ttry:\r\n\t\t\tloc = item.Location\r\n\t\t\tif loc.ToString() == 'Autodesk.Revit.DB.LocationCurve':\r\n\t\t\t\t# line-based elements (e.g. walls)\r\n\t\t\t\tcurvepoints = (loc.Curve.GetEndPoint(0).ToPoint(),loc.Curve.GetEndPoint(1).ToPoint())\r\n\t\t\t\tcurvepointlist.append(curvepoints)\r\n\t\t\t\tcurves.append(loc.Curve.ToProtoType())\r\n\t\t\t\tispoint.append(False)\r\n\t\t\t\tiscurve.append(True)\r\n\t\t\t\thaslocation.append(True)\r\n\t\t\t\thasrotation.append(False)\r\n\t\t\telif loc.ToString() == 'Autodesk.Revit.DB.LocationPoint':\r\n\t\t\t\t# point-based elements\r\n\t\t\t\tpointlist.append(loc.Point.ToPoint())\r\n\t\t\t\tispoint.append(True)\r\n\t\t\t\tiscurve.append(False)\r\n\t\t\t\thaslocation.append(True)\r\n\t\t\t\ttry:\r\n\t\t\t\t\tangles.append(math.degrees(loc.Rotation))\r\n\t\t\t\t\thasrotation.append(True)\r\n\t\t\t\texcept:\r\n\t\t\t\t\thasrotation.append(False)\r\n\t\t\telse:\r\n\t\t\t\t# check for host objects outlines (floor slabs etc.)\r\n\t\t\t\ttry:\r\n\t\t\t\t\trefs = HostObjectUtils.GetTopFaces(item)\r\n\t\t\t\t\tblines = []\r\n\t\t\t\t\tbpoints = []\r\n\t\t\t\t\tfor ref in refs:\r\n\t\t\t\t\t\ttry:\r\n\t\t\t\t\t\t\tboundaries = item.GetGeometryObjectFromReference(ref).GetEdgesAsCurveLoops()\r\n\t\t\t\t\t\t\tfor loop in boundaries:\r\n\t\t\t\t\t\t\t\tcloop = []\r\n\t\t\t\t\t\t\t\tclooppoints = []\r\n\t\t\t\t\t\t\t\tfor line in loop:\r\n\t\t\t\t\t\t\t\t\tcloop.append(line.ToProtoType())\r\n\t\t\t\t\t\t\t\t\tcurvepoint = (line.GetEndPoint(0).ToPoint(),line.GetEndPoint(1).ToPoint())\r\n\t\t\t\t\t\t\t\t\tclooppoints.append(curvepoint)\r\n\t\t\t\t\t\t\t\tblines.append(cloop)\r\n\t\t\t\t\t\t\t\tbpoints.append(clooppoints)\r\n\t\t\t\t\t\texcept:\r\n\t\t\t\t\t\t\tpass\r\n\t\t\t\t\tif (len(blines) > 0):\r\n\t\t\t\t\t\tcurves.append(blines)\r\n\t\t\t\t\t\tcurvepointlist.append(bpoints)\r\n\t\t\t\t\t\tiscurve.append(True)\r\n\t\t\t\t\t\thaslocation.append(True)\r\n\t\t\t\t\telse:\r\n\t\t\t\t\t\tiscurve.append(False)\r\n\t\t\t\t\t\thaslocation.append(False)\r\n\t\t\t\t\tispoint.append(False)\r\n\t\t\t\t\thasrotation.append(False)\r\n\t\t\t\texcept:\r\n\t\t\t\t\tispoint.append(False)\r\n\t\t\t\t\tiscurve.append(False)\r\n\t\t\t\t\thaslocation.append(False)\r\n\t\t\t\t\thasrotation.append(False)\r\n\t\texcept:\r\n\t\t\ttry:\r\n\t\t\t\t# curves\r\n\t\t\t\tcurvepoints = (item.GetEndPoint(0).ToPoint(),item.GetEndPoint(1).ToPoint())\r\n\t\t\t\tcurvepointlist.append(curvepoints)\r\n\t\t\t\tcurves.append(item.ToProtoType())\r\n\t\t\t\tispoint.append(False)\r\n\t\t\t\tiscurve.append(True)\r\n\t\t\t\thaslocation.append(True)\r\n\t\t\t\thasrotation.append(False)\r\n\t\t\texcept:\r\n\t\t\t\tispoint.append(False)\r\n\t\t\t\tiscurve.append(False)\r\n\t\t\t\thaslocation.append(False)\r\n\t\t\t\thasrotation.append(False)\r\nOUT = (pointlist,curvepointlist,curves,ispoint,iscurve,haslocation,angles,hasrotation)",
      "VariableInputPorts": true,
      "Id": "f9cf6ebe4cb643a4b682f29bf6633963",
      "Inputs": [
        {
          "Id": "caf29f72c1ca458786afe4e935f24831",
          "Name": "IN[0]",
          "Description": "Input #0",
          "UsingDefaultValue": false,
          "Level": 2,
          "UseLevels": false,
          "KeepListStructure": false
        }
      ],
      "Outputs": [
        {
          "Id": "b66609253c514e58acb6a4cfe134fa88",
          "Name": "OUT",
          "Description": "Result of the python script",
          "UsingDefaultValue": false,
          "Level": 2,
          "UseLevels": false,
          "KeepListStructure": false
        }
      ],
      "Replication": "Disabled",
      "Description": "Runs an embedded IronPython script."
    },
    {
      "ConcreteType": "Dynamo.Graph.Nodes.CustomNodes.Output, DynamoCore",
      "NodeType": "OutputNode",
      "ElementResolver": null,
      "Symbol": "VARhasLocation",
      "Id": "f049edbfdc904d9d8d55aec33858083d",
      "Inputs": [
        {
          "Id": "a4053ec2f91347b29c4e719bc9226bcc",
          "Name": "",
          "Description": "",
          "UsingDefaultValue": false,
          "Level": 2,
          "UseLevels": false,
          "KeepListStructure": false
        }
      ],
      "Outputs": [],
      "Replication": "Disabled",
      "Description": "A function output, use with custom nodes"
    },
    {
      "ConcreteType": "Dynamo.Graph.Nodes.CustomNodes.Output, DynamoCore",
      "NodeType": "OutputNode",
      "ElementResolver": null,
      "Symbol": "VARangle",
      "Id": "14d49b055d404fbfb0e471bfaaee0839",
      "Inputs": [
        {
          "Id": "dcf76dadcafb4d0881dbfcaa51d9140a",
          "Name": "",
          "Description": "",
          "UsingDefaultValue": false,
          "Level": 2,
          "UseLevels": false,
          "KeepListStructure": false
        }
      ],
      "Outputs": [],
      "Replication": "Disabled",
      "Description": "A function output, use with custom nodes"
    },
    {
      "ConcreteType": "Dynamo.Graph.Nodes.CustomNodes.Output, DynamoCore",
      "NodeType": "OutputNode",
      "ElementResolver": null,
      "Symbol": "VARhasRotation",
      "Id": "83ee1aeff7984e808bef4ac8b8479804",
      "Inputs": [
        {
          "Id": "ad13ae079fc94e11b94f69bb4ea17403",
          "Name": "",
          "Description": "",
          "UsingDefaultValue": false,
          "Level": 2,
          "UseLevels": false,
          "KeepListStructure": false
        }
      ],
      "Outputs": [],
      "Replication": "Disabled",
      "Description": "A function output, use with custom nodes"
    },
    {
      "ConcreteType": "Dynamo.Graph.Nodes.CustomNodes.Function, DynamoCore",
      "FunctionSignature": "a1370551-a1d1-4a47-a1a3-8afdfd8f78aa",
      "FunctionType": "Graph",
      "NodeType": "FunctionNode",
      "Id": "7a6a5300aba2407b9cb9736f458b5460",
      "Inputs": [
        {
          "Id": "e26aaee7d53a4b5891ecd4dec4ee6f3f",
          "Name": "VARunknownItem",
          "Description": "var[]..[]",
          "UsingDefaultValue": false,
          "Level": 2,
          "UseLevels": false,
          "KeepListStructure": false
        }
      ],
      "Outputs": [
        {
          "Id": "d4cbcf5533ee4b708a9177e27bcfafc6",
          "Name": "VARseq",
          "Description": "return value",
          "UsingDefaultValue": false,
          "Level": 2,
          "UseLevels": false,
          "KeepListStructure": false
        }
      ],
      "Replication": "Auto",
      "Description": "Turns an element (or a nested list) into a flat list"
    }
  ],
  "Connectors": [
    {
      "Start": "8e2c106059d64f30beffef6306ffbc49",
      "End": "e26aaee7d53a4b5891ecd4dec4ee6f3f",
      "Id": "529a454df6e14fbdbd4fe8cd9c98dd36"
    },
    {
      "Start": "dc0314b58c2f489b86c748ccd60cd355",
      "End": "9225abc0e7674cab86417a1e7574a279",
      "Id": "4e04ca869c444054b41ffb51ddc40679"
    },
    {
      "Start": "a46e0efabd04457b8f9cdd89f8f9b3cc",
      "End": "9baacdd5f8f9412194c8d9dea289a2db",
      "Id": "dd2d9115243f4133b3ff6a69a0a71fab"
    },
    {
      "Start": "2281b6e7d3d04fe185330b3ab6f6283c",
      "End": "beb663ae27e84156b09807fb040e4660",
      "Id": "17d4b5ff64f04a148ad4d09b1632bfb1"
    },
    {
      "Start": "c7bfa29056c941d5b9415d217ac1b977",
      "End": "3204b4d5493a49ff97c077e9f2d90e71",
      "Id": "1bf8b42dc79748f2a052206e07ad03df"
    },
    {
      "Start": "cefbd215aa854ceab9ec5e9fa8b3b881",
      "End": "8798fa62ef114f4e9342dc74a781bb63",
      "Id": "f441aa82dc8649508e8f044a538828d2"
    },
    {
      "Start": "11b9771711ce47a8b4644725696082ad",
      "End": "a4053ec2f91347b29c4e719bc9226bcc",
      "Id": "0dc103e251be47299152bf8e896eb219"
    },
    {
      "Start": "df73f922fa6a4a5f8732856b6b4217e3",
      "End": "dcf76dadcafb4d0881dbfcaa51d9140a",
      "Id": "6aa4e363824d4dd18e5dc97f3af4e3d1"
    },
    {
      "Start": "272ca2ae8fe64148bfbfba6dbb007913",
      "End": "ad13ae079fc94e11b94f69bb4ea17403",
      "Id": "f9150088a6b24245869798d3bb49832f"
    },
    {
      "Start": "b66609253c514e58acb6a4cfe134fa88",
      "End": "7c6eccc44be74215b3b2b9898c6ac036",
      "Id": "a0d5b0e61fcf4a4a82dc0dde9be44eb7"
    },
    {
      "Start": "d4cbcf5533ee4b708a9177e27bcfafc6",
      "End": "caf29f72c1ca458786afe4e935f24831",
      "Id": "b5814ea835cd490f87efb8556cdcbe37"
    }
  ],
  "Dependencies": [
    "a1370551-a1d1-4a47-a1a3-8afdfd8f78aa"
  ],
  "Bindings": [],
  "View": {
    "Dynamo": {
      "ScaleFactor": 1.0,
      "HasRunWithoutCrash": false,
      "IsVisibleInDynamoLibrary": true,
      "Version": "2.1.0.7500",
      "RunType": "Manual",
      "RunPeriod": "1000"
    },
    "Camera": {
      "Name": "Background Preview",
      "EyeX": -17.0,
      "EyeY": 24.0,
      "EyeZ": 50.0,
      "LookX": 12.0,
      "LookY": -13.0,
      "LookZ": -58.0,
      "UpX": 0.0,
      "UpY": 1.0,
      "UpZ": 0.0
    },
    "NodeViews": [
      {
        "Id": "467e3f8f3faf49fc94c376b1b0c59c5e",
        "IsSetAsInput": false,
        "IsSetAsOutput": false,
        "Name": "Input",
        "ShowGeometry": true,
        "Excluded": false,
        "X": 0.0,
        "Y": 136.0
      },
      {
        "Id": "3ebf8af890b744f8afdf742ff53b9f65",
        "IsSetAsInput": false,
        "IsSetAsOutput": false,
        "Name": "Output",
        "ShowGeometry": true,
        "Excluded": false,
        "X": 829.411443410782,
        "Y": -13.753237059281
      },
      {
        "Id": "fe6d5941e75240bbb243e86bdd061ab9",
        "IsSetAsInput": false,
        "IsSetAsOutput": false,
        "Name": "Output",
        "ShowGeometry": true,
        "Excluded": false,
        "X": 829.411443410782,
        "Y": 42.1780581895263
      },
      {
        "Id": "fef50bd5ee4646bbbc91c1d356b52c80",
        "IsSetAsInput": false,
        "IsSetAsOutput": false,
        "Name": "Output",
        "ShowGeometry": true,
        "Excluded": false,
        "X": 829.411443410782,
        "Y": 98.1093534383336
      },
      {
        "Id": "9c5fe234633342d18497fa4ae9ff0a2d",
        "IsSetAsInput": false,
        "IsSetAsOutput": false,
        "Name": "Output",
        "ShowGeometry": true,
        "Excluded": false,
        "X": 829.411443410782,
        "Y": 154.040648687141
      },
      {
        "Id": "21d345193cea4d3fb917cbe99953d0f1",
        "IsSetAsInput": false,
        "IsSetAsOutput": false,
        "Name": "Output",
        "ShowGeometry": true,
        "Excluded": false,
        "X": 829.411443410782,
        "Y": 209.971943935948
      },
      {
        "Id": "bd3f39ee762e4a88a57d373694197124",
        "IsSetAsInput": false,
        "IsSetAsOutput": false,
        "Name": "Code Block",
        "ShowGeometry": true,
        "Excluded": false,
        "X": 551.355185870988,
        "Y": 139.870950208536
      },
      {
        "Id": "f9cf6ebe4cb643a4b682f29bf6633963",
        "IsSetAsInput": false,
        "IsSetAsOutput": false,
        "Name": "Python Script",
        "ShowGeometry": true,
        "Excluded": false,
        "X": 404.0,
        "Y": 136.0
      },
      {
        "Id": "f049edbfdc904d9d8d55aec33858083d",
        "IsSetAsInput": false,
        "IsSetAsOutput": false,
        "Name": "Output",
        "ShowGeometry": true,
        "Excluded": false,
        "X": 829.411443410782,
        "Y": 265.903239184756
      },
      {
        "Id": "14d49b055d404fbfb0e471bfaaee0839",
        "IsSetAsInput": false,
        "IsSetAsOutput": false,
        "Name": "Output",
        "ShowGeometry": true,
        "Excluded": false,
        "X": 829.411443410782,
        "Y": 321.834534433563
      },
      {
        "Id": "83ee1aeff7984e808bef4ac8b8479804",
        "IsSetAsInput": false,
        "IsSetAsOutput": false,
        "Name": "Output",
        "ShowGeometry": true,
        "Excluded": false,
        "X": 829.411443410782,
        "Y": 377.76582968237
      },
      {
        "Id": "7a6a5300aba2407b9cb9736f458b5460",
        "IsSetAsInput": false,
        "IsSetAsOutput": false,
        "Name": "CW.TurnIntoList",
        "ShowGeometry": true,
        "Excluded": false,
        "X": 140.688679039612,
        "Y": 121.384528464887
      }
    ],
    "Annotations": [],
    "X": 68.0613789434669,
    "Y": 139.208611169102,
    "Zoom": 0.991871263722181
  }
}